<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Load Balancer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Landing Page -->
    <div class="landing-page" id="landing-page">
        <div class="landing-content">
            <div class="landing-logo">
                <span class="logo-icon">ğŸ³</span>
                <h1>Kitchen Load Balancer</h1>
                <p class="tagline">Apprenez le load balancing en cuisinant !</p>
            </div>

            <div class="landing-menu">
                <button class="menu-btn play-btn" id="btn-play">
                    <span class="btn-emoji">â–¶ï¸</span>
                    <span>Jouer</span>
                </button>
                <button class="menu-btn tutorial-btn" id="btn-tutorial">
                    <span class="btn-emoji">ğŸ“š</span>
                    <span>Tutoriel</span>
                </button>
                <button class="menu-btn options-btn" id="btn-options">
                    <span class="btn-emoji">âš™ï¸</span>
                    <span>Options</span>
                </button>
            </div>

            <div class="landing-footer">
                <p>ğŸ“ Projet Algorithmique - Load Balancing</p>
            </div>
        </div>

        <!-- Animated kitchen items -->
        <div class="floating-items">
            <span class="float-item" style="--delay: 0s; --x: 10%;">ğŸ•</span>
            <span class="float-item" style="--delay: 1s; --x: 25%;">ğŸ”</span>
            <span class="float-item" style="--delay: 2s; --x: 40%;">ğŸ¥—</span>
            <span class="float-item" style="--delay: 0.5s; --x: 55%;">ğŸœ</span>
            <span class="float-item" style="--delay: 1.5s; --x: 70%;">ğŸ¥˜</span>
            <span class="float-item" style="--delay: 2.5s; --x: 85%;">ğŸ°</span>
        </div>
    </div>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorial-overlay">
        <div class="tutorial-box">
            <h2>ğŸ“š Comment Jouer</h2>
            <div class="tutorial-content">
                <div class="tutorial-step">
                    <span class="step-num">1</span>
                    <p><strong>Les commandes arrivent</strong> - Des plats apparaissent en bas de l'Ã©cran</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-num">2</span>
                    <p><strong>Assignez aux stations</strong> - Chaque plat passe par: ğŸ¥• PrÃ©pa â†’ ğŸ”¥ Cuisson â†’ ğŸ¨ Dressage</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-num">3</span>
                    <p><strong>Respectez les deadlines</strong> - Le compteur sur chaque plat indique le temps restant</p>
                </div>
                <div class="tutorial-step">
                    <span class="step-num">4</span>
                    <p><strong>Mode Manuel</strong> - Cliquez sur un plat puis sur une station pour l'assigner</p>
                </div>
            </div>
            <button class="tutorial-close" id="tutorial-close">Compris ! ğŸ‘</button>
        </div>
    </div>

    <!-- Options Overlay -->
    <div class="options-overlay" id="options-overlay">
        <div class="options-box">
            <h2>âš™ï¸ Options</h2>
            <div class="options-content">
                <div class="option-row">
                    <label>ğŸ”Š Sons</label>
                    <button class="toggle-btn active" id="toggle-sound" data-enabled="true">ON</button>
                </div>
                <div class="option-row">
                    <label>ğŸµ Musique</label>
                    <button class="toggle-btn active" id="toggle-music" data-enabled="true">ON</button>
                </div>
                <div class="option-row">
                    <label>ğŸ”‰ Volume</label>
                    <input type="range" id="volume-slider" min="0" max="100" value="70">
                </div>
            </div>
            <button class="options-close" id="options-close">Fermer</button>
        </div>
    </div>

    <!-- Confetti Container -->
    <div class="confetti-container" id="confetti-container"></div>

    <div class="game-container" id="game-container" style="display: none;">
        <!-- HUD - Barre supÃ©rieure -->
        <header class="hud">
            <div class="hud-satisfaction">
                <span class="hud-icon">ğŸ˜Š</span>
                <div class="gauge">
                    <div class="gauge-fill" id="satisfaction-fill"></div>
                </div>
                <span class="hud-value" id="satisfaction-value">100%</span>
            </div>
            <div class="hud-timer">
                <span class="hud-icon">â±</span>
                <span id="game-timer">00:00</span>
            </div>
            <div class="hud-stats">
                <div class="stat">
                    <span class="stat-icon">âœ…</span>
                    <span id="plats-servis">0</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">âŒ</span>
                    <span id="plats-rates">0</span>
                </div>
            </div>
            <div class="hud-algorithm">
                <span class="algo-icon" id="algo-icon">ğŸ“Š</span>
                <span class="algo-name" id="algo-name">Least Loaded</span>
            </div>
        </header>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Panel Load Balancer (latÃ©ral) -->
            <aside class="panel-loadbalancer">
                <h2>Load Balancer</h2>
                <div class="algo-list">
                    <button class="algo-btn" data-algo="manual" data-icon="ğŸ®">
                        <span class="btn-icon">ğŸ®</span>
                        <span class="btn-label">Manuel</span>
                        <span class="btn-tooltip">Vous choisissez quoi cuisiner !</span>
                    </button>
                    <button class="algo-btn active" data-algo="least-loaded" data-icon="ğŸ“Š">
                        <span class="btn-icon">ğŸ“Š</span>
                        <span class="btn-label">Least Loaded</span>
                        <span class="btn-tooltip">Envoie vers la station la moins chargÃ©e</span>
                    </button>
                    <button class="algo-btn" data-algo="round-robin" data-icon="ğŸ”„" disabled>
                        <span class="btn-icon">ğŸ”„</span>
                        <span class="btn-label">Round Robin</span>
                        <span class="btn-tooltip">RÃ©partition cyclique (bientÃ´t)</span>
                    </button>
                    <button class="algo-btn" data-algo="shortest-job" data-icon="â³" disabled>
                        <span class="btn-icon">â³</span>
                        <span class="btn-label">Shortest Job</span>
                        <span class="btn-tooltip">PrioritÃ© aux plats courts (bientÃ´t)</span>
                    </button>
                    <button class="algo-btn" data-algo="priority-first" data-icon="â­" disabled>
                        <span class="btn-icon">â­</span>
                        <span class="btn-label">Priority First</span>
                        <span class="btn-tooltip">VIP d'abord (bientÃ´t)</span>
                    </button>
                </div>

                <div class="manual-mode-indicator" id="manual-indicator">
                    ğŸ® Mode Manuel Actif
                </div>

                <div class="game-controls">
                    <button id="btn-start" class="control-btn start">â–¶ DÃ©marrer</button>
                    <button id="btn-pause" class="control-btn pause" disabled>â¸ Pause</button>
                    <button id="btn-reset" class="control-btn reset">ğŸ”„ Reset</button>
                </div>

                <div class="speed-control">
                    <label>Vitesse:</label>
                    <div class="speed-buttons">
                        <button class="speed-btn" data-speed="0.25">0.25x</button>
                        <button class="speed-btn" data-speed="0.5">0.5x</button>
                        <button class="speed-btn active" data-speed="1">1x</button>
                        <button class="speed-btn" data-speed="2">2x</button>
                    </div>
                </div>
            </aside>

            <!-- Zone Cuisine (centrale) -->
            <main class="zone-cuisine">
                <div class="stations-container">
                    <!-- Station PrÃ©paration -->
                    <div class="station" data-type="preparation" data-status="idle">
                        <div class="station-header">
                            <span class="station-icon">ğŸ¥•</span>
                            <span class="station-name">PrÃ©paration</span>
                            <span class="station-capacity">0/2</span>
                        </div>
                        <div class="station-load-bar">
                            <div class="load-fill"></div>
                        </div>
                        <div class="station-active" id="prep-active">
                            <!-- Plats en cours de prÃ©paration -->
                        </div>
                        <div class="station-queue" id="prep-queue">
                            <!-- File d'attente prÃ©paration -->
                        </div>
                    </div>

                    <!-- Station Cuisson -->
                    <div class="station" data-type="cuisson" data-status="idle">
                        <div class="station-header">
                            <span class="station-icon">ğŸ”¥</span>
                            <span class="station-name">Cuisson</span>
                            <span class="station-capacity">0/1</span>
                        </div>
                        <div class="station-load-bar">
                            <div class="load-fill"></div>
                        </div>
                        <div class="station-active" id="cuisson-active">
                            <!-- Plat en cuisson -->
                        </div>
                        <div class="station-queue" id="cuisson-queue">
                            <!-- File d'attente cuisson -->
                        </div>
                    </div>

                    <!-- Station Dressage -->
                    <div class="station" data-type="dressage" data-status="idle">
                        <div class="station-header">
                            <span class="station-icon">ğŸ¨</span>
                            <span class="station-name">Dressage</span>
                            <span class="station-capacity">0/1</span>
                        </div>
                        <div class="station-load-bar">
                            <div class="load-fill"></div>
                        </div>
                        <div class="station-active" id="dressage-active">
                            <!-- Plat en dressage -->
                        </div>
                        <div class="station-queue" id="dressage-queue">
                            <!-- File d'attente dressage -->
                        </div>
                    </div>
                </div>

                <!-- Zone des plats servis -->
                <div class="zone-servis">
                    <h3>ğŸ½ï¸ Plats Servis</h3>
                    <div class="servis-container" id="servis-container">
                        <!-- Plats servis apparaissent ici -->
                    </div>
                </div>
            </main>
        </div>

        <!-- Zone Commandes (bas de l'Ã©cran) -->
        <footer class="zone-commandes">
            <h3>ğŸ“¥ Commandes entrantes</h3>
            <div class="commandes-container" id="commandes-container">
                <!-- Les cartes de commandes apparaissent ici -->
            </div>
        </footer>
    </div>

    <!-- Messages pÃ©dagogiques -->
    <div class="message-overlay" id="message-overlay">
        <div class="message-box">
            <p id="message-text"></p>
            <button id="message-close">OK</button>
        </div>
    </div>

    <!-- Manual mode instructions -->
    <div class="manual-instructions" id="manual-instructions">
        Cliquez sur un plat pour le sÃ©lectionner, puis sur une station pour l'assigner
    </div>

    <!-- Back to menu button -->
    <button class="back-to-menu" id="back-to-menu">ğŸ  Menu</button>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
